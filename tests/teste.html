<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>


    <head>

        <title>Bible2Link</title>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- VERSO POPUP INÍCIO -->
<script type='text/javascript'>

    
    //]]>
    </script>
    <!-- VERSO POPUP FIM -->

    </head>
    <body>

<!-- <input type="button" value="Linkar Referências!" id="btn" /> -->
        <div class="resultado" id="resultado" >
<br />

Jo 3:16; 7.1, 3; 3:20; Mt 2:3, 5, 2-7; 3:1; Lc 2:1; 3:12
 <br>

João 1 <br>
João 10.1 <br>

Lucas 1 <br>
Lucas 1.1 <br>

1 João 1.3; 10:20; 13:12; <br>    

1 João 3.1,3,5 e 7-11 (abreviado, junto, ponto, vírgula e sequencia com “e”)<br>
1João 1:1 (junto, dois pontos)<br>
1João 1.1 (junto, ponto)<br>
1 João 1:1 (separado, dois pontos)<br>
1 João 1.1 (separado, ponto)<br>
1 João 1.1-5 (separado, ponto, sequencia)<br>
1João 1.1-5 (junto, dois pontos, sequencia)<br>
1 João 1.1-5 (separado, ponto, sequencia)<br>
1João 1:1-5 (junto, dois pontos, sequencia)<br>
1 João 1:1, 3, 5-7 (separado, dois pontos, vírgula e sequencia)<br>
1João 1:1,3,5-7 (junto, dois pontos, vírgula e sequencia)<br>
1 João 1.1, 3, 5-7 (separado, ponto, vírgula e sequencia)<br>
1João 1.1,3,5-7 (junto, ponto, vírgula e sequencia)<br>
1João 1.1,3,5 e 7 (junto, ponto, vírgula e sequencia com “e”)<br>
1 João 1.1,3,5,9 e 7,8 (separado, ponto, vírgula e sequencia com “e”)<br>
<br>
Abreviado<br>
<br>
Jo 7.1,3 <br>
Mt 2:3,5,2-7 <br>
1Jo 1:1,2; 1:1 (abreviado, junto, ponto)<br>
1 Jo 1.1 (abreviado, separado, ponto)<br>
1Jo 1:1 (abreviado, junto, dois pontos)<br>
1Jo 1:5,6 (abreviado, junto, dois pontos)<br>
1 Jo 1:1 (abreviado, separado, dois pontos)<br>
1 Jo 1.1-5 (abreviado, separado, ponto, sequencia)<br>
1Jo 1.1-5 (abreviado, junto, ponto, sequencia)<br>
1 Jo 1:1-5 (abreviado, separado, dois pontos, sequencia)<br>
1Jo 1:1-5 (abreviado, junto, dois pontos, sequencia)<br>
1 Jo 1.3,4,5-7 (abreviado, separado, ponto, vírgula e sequencia)<br>
1Jo 1.3,4,5-7 (abreviado, junto, ponto, vírgula e sequencia)<br>
1 Jo 1:3,4,5-7 (abreviado, separado, dois pontos, vírgula e sequencia)<br>
1Jo 1:3, 4, 5-7 (abreviado, junto, dois pontos, vírgula e sequencia)<br>
1Jo 1.1,3,5 e 10 (abreviado, junto, ponto, vírgula e sequencia com “e”)<br>
2 Jo 1.1 <br>
2 Jo 2 <br>
Lucas 2:3; 5:6,7; <br>
Lc 2:12

</div>

<script type="text/javascript">

// // // corrige númeos com pontos para dois pontos
// var strfc = document.getElementById("texto").innerHTML; 
// var res = strfc.replace(/(((João|(1|2|3) Jo|1Jo) [0-9]{1,3})|(Lucas [0-9]{1,3}))(\.)/g, '$1:');
// document.getElementById("texto").innerHTML = res;


// // linka capítulos completos
// var strfc = document.getElementById("texto").innerHTML; 
// var res = strfc.replace(/((João|(1|2|3) Jo|1Jo) [0-9]{1,3}(?!\:)|Lucas [0-9]{1,3}(?!\:))/g, '<a href="//www$1">$1</a>');
// document.getElementById("texto").innerHTML = res;

// BGLinks.version = "ARC";
// BGLinks.linkVerses();

$(document).ready(function(){

var str = document.getElementById("resultado").innerHTML; 
var res = str
.replace(/(Jo|Mt|Lc|1 João|Lucas) (([0-9]{1,3}(\.|:)[0-9]{1,3}((,| ,|, |-| e )[0-9]{1,3}){1,})|([0-9]{1,3}(\.|:)[0-9]{1,3}))(;|)( [0-9]{1,3}(\.|:))/ig, "$1 $2; $1$10")
.replace(/(Jo|Mt|Lc|1 João|Lucas) (([0-9]{1,3}(\.|:)[0-9]{1,3}((,| ,|, |-| e )[0-9]{1,3}){1,})|([0-9]{1,3}(\.|:)[0-9]{1,3}))(;|)( [0-9]{1,3}(\.|:))/ig, "$1 $2; $1$10")
.replace(/(Jo|Mt|Lc|1 João|Lucas) (([0-9]{1,3}(\.|:)[0-9]{1,3}((,| ,|, |-| e )[0-9]{1,3}){1,})|([0-9]{1,3}(\.|:)[0-9]{1,3}))(;|)( [0-9]{1,3}(\.|:))/ig, "$1 $2; $1$10")
.replace(/(Jo|Mt|Lc|1 João|Lucas) (([0-9]{1,3}(\.|:)[0-9]{1,3}((,| ,|, |-| e )[0-9]{1,3}){1,})|([0-9]{1,3}(\.|:)[0-9]{1,3}))(;|)( [0-9]{1,3}(\.|:))/ig, "$1 $2; $1$10")
.replace(/(Jo|Mt|Lc|1 João|Lucas) (([0-9]{1,3}(\.|:)[0-9]{1,3}((,| ,|, |-| e )[0-9]{1,3}){1,})|([0-9]{1,3}(\.|:)[0-9]{1,3}))(;|)( [0-9]{1,3}(\.|:))/ig, "$1 $2; $1$10")
document.getElementById("resultado").innerHTML = res;
//r = document.getElementById("resultado").innerHTML = res; console.log(r);


$books = "1 João,1 Jo,1Jo,1João,2 João,2 Jo,2Jo,2João,João,Jó,Lucas,Jo,Mt,Lc"
host = "http://bibliaonline.com.br/acf/"
var searchTerm = $books.split(",");
var cap = "(([0-9]{1,3}(\.|:)[0-9]{1,3}((,| ,|, |-| e )[0-9]{1,3}){1,})|([0-9]{1,3}(\.|:)[0-9]{1,3}))"

$(".resultado").each(function() {
    var html = $(this).html().toString();
    var pattern = "\\b(" + searchTerm.join('|') + ")( " + cap + ")\\b";
    var rg = new RegExp(pattern, 'ig');
    var match = rg.exec(html);

    html = html.replace(rg, '<a href="'+host+'$1$2" target="_blank" style="color:red">$1$2</a>');
    $(this).html(html);
});

$(document).ready(function(){
        $('a[href^="http://"]').each(function(){ 
            var oldUrl = $(this).attr("href"); // Get current url
            var newUrl = oldUrl.replace(/ /g, "").normalize('NFD').replace(/[\u0300-\u036f]/g, "").replace(/([a-z])([0-9]{1,3})/i,"$1/$2").replace(/(\.|:)([0-9]{1,3})/,"/$2").replace(/([0-9]{1,3})e([0-9]{1,3})/,"$1,$2"); // Create new url, normalizar exceto Jó
            $(this).attr("href", newUrl); // Set herf value
        });
});
});
</script>

</body>